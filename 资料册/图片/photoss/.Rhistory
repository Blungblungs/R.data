clean.algae <- algae
lm.a1<-lm(a1~ ., data=clean.algae[,1:12])  #线性回归模型
summary(lm.a1)
plot(lm.a1)
help(step)
library(threejs)
z <- seq(-10, 10, 0.01)
x <- cos(z)
y <- sin(z)
scatterplot3js(x,y,z, color=rainbow(length(z)))
install.packages("rgl")
install.packages("rglwidget")
install.packages("htmltools")
install.packages("htmltools")
library(rgl)
install.packages("rgl")
install.packages("htmltools")
library(htmltools)
theta <- seq(0, 6*pi, len=100)
xyz <- cbind(sin(theta), cos(theta), theta)
lineid <- plot3d(xyz, type="l", alpha = 1:0,
lwd = 5, col = "blue")["data"]
browsable(tagList(
rglwidget(elementId = "example", width = 500, height = 400,
controllers = "player"),
playwidget("example",
ageControl(births = theta, ages = c(0, 0, 1),
objids = lineid, alpha = c(0, 1, 0)),
start = 1, stop = 6*pi, step = 0.1,
rate = 6,elementId = "player")
))
library(rglwidget)
install.packages("rglwidget")
install.packages("rglwidget")
library(rgl)
library(rglwidget)
library(htmltools)
theta <- seq(0, 6*pi, len=100)
xyz <- cbind(sin(theta), cos(theta), theta)
lineid <- plot3d(xyz, type="l", alpha = 1:0,
lwd = 5, col = "blue")["data"]
browsable(tagList(
rglwidget(elementId = "example", width = 500, height = 400,
controllers = "player"),
playwidget("example",
ageControl(births = theta, ages = c(0, 0, 1),
objids = lineid, alpha = c(0, 1, 0)),
start = 1, stop = 6*pi, step = 0.1,
rate = 6,elementId = "player")
))
library(networkD3)
data(MisLinks, MisNodes)
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
Target = "target", Value = "value", NodeID = "name",
Group = "group", opacity = 0.4)
library(threejs)
z <- seq(-10, 10, 0.01)
x <- cos(z)
y <- sin(z)
scatterplot3js(x,y,z, color=rainbow(length(z)))
library(rgl)
library(rglwidget)
library(htmltools)
theta <- seq(0, 6*pi, len=100)
xyz <- cbind(sin(theta), cos(theta), theta)
lineid <- plot3d(xyz, type="l", alpha = 1:0,
lwd = 5, col = "blue")["data"]
browsable(tagList(
rglwidget(elementId = "example", width = 500, height = 400,
controllers = "player"),
playwidget("example",
ageControl(births = theta, ages = c(0, 0, 1),
objids = lineid, alpha = c(0, 1, 0)),
start = 1, stop = 6*pi, step = 0.1,
rate = 6,elementId = "player")
))
library(rvest)
library(downloader)
install.packages("rvest")
install.packages("rvest")
install.packages("downloader")
angle <- seq(0, 2*pi, length=13)[-13]
x <- 0.15*cos(angle)
y <- 0.5 + 0.3*sin(angle)
par(mar=rep(0, 4))
plot.new()
box("outer", col="grey")
polygon(0.25 + x, y, col="grey")
text(0.75 + x[c(1, 5, 9)], y[c(1, 5, 9)], "NA", col="grey")
x[c(1, 5, 9)] <- NA
y[c(1, 5, 9)] <- NA
polygon(0.75 + x, y, col="grey")
html=getURL("http://www-bcf.usc.edu/~gareth/ISL/Chapter1/")  #查看网址
library(RCurl)
html=getURL("http://www-bcf.usc.edu/~gareth/ISL/Chapter1/")  #查看网址
html
temp=strsplit(html,"<li><a href=\"")[[1]]
temp
files=strsplit(temp,"\"");files
1
files=lapply(files,function(x){x[1]});files
files=unlist(files)
files=files[-(1:2)];files
base="http://www-bcf.usc.edu/~gareth/ISL/Chapter1/"
for(i in i:length(files))
{
url=paste(base,files[i],sep='')
temp<-getBinaryURL(url)
note<-file(paste("1202",files[i],sep='.'), open = "wb")
dir.create("D:/R/我的资料集/资料册/R") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/图片/R") #锁定临时目录
Sys.sleep(2)  #读两个休息一下
library(RCurl)
html=getURL("http://www-bcf.usc.edu/~gareth/ISL/Chapter1/")  #查看网址
html
temp=strsplit(html,"<li><a href=\"")[[1]]
temp
files=strsplit(temp,"\"");files
files=lapply(files,function(x){x[1]});files
files=unlist(files)
files=files[-(1:2)];files
i=1
base="http://www-bcf.usc.edu/~gareth/ISL/Chapter1/"
for(i in i:length(files))
{
url=paste(base,files[i],sep='')
temp<-getBinaryURL(url)
note<-file(paste("1202",files[i],sep='.'), open = "wb")
dir.create("D:/R/我的资料集/资料册/R") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/图片/R") #锁定临时目录
Sys.sleep(2)  #读两个休息一下
}
setwd("D:/R/我的资料集/资料册/R") #锁定临时目录
Sys.sleep(2)  #读两个休息一下
for(i in i:length(files))
{
url=paste(base,files[i],sep='')
temp<-getBinaryURL(url)
note<-file(paste("1202",files[i],sep='.'), open = "wb")
dir.create("D:/R/我的资料集/资料册/R") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/R") #锁定临时目录
Sys.sleep(2)  #读两个休息一下
}
library(RCurl)
html=getURL("http://www-bcf.usc.edu/~gareth/ISL/Chapter1/")  #查看网址
html
temp=strsplit(html,"<li><a href=\"")[[1]]
temp
files=strsplit(temp,"\"");files
files=lapply(files,function(x){x[1]});files
files=unlist(files)
files=files[-(1:2)];files
i=1
base="http://www-bcf.usc.edu/~gareth/ISL/Chapter1/"
for(i in i:length(files))
{
url=paste(base,files[i],sep='')
temp<-getBinaryURL(url)
note<-file(paste("1202",files[i],sep='.'), open = "wb")
dir.create("D:/R/我的资料集/资料册/R") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/R") #锁定临时目录
Sys.sleep(2)  #读两个休息一下
}
files=files[-(1:2)];files
files=files[-(1:2)];files
attach(Puromycin)
summary(Puromycin)
pairs(Puromycin
Puromycin[,1]
Puromycin[1,1]
Puromycin[c(1,3,5),c(1,5)]
Puromycin[c(1,3,5),c(1,2)]
Puromycin[c(1,3,5),]
Puromycin$conc
Puromycin.conc<-Puromycin$conc
Puromycin$state
subset(Puromycin,state=="untreated"&rate>150)
##数据框中添加新变量
##数据框中添加新变量##
Puromycin$5<-1/Puromycin$conc
Puromycin$5ss-1/Puromycin$conc
Puromycin$ss-1/Puromycin$conc
Puromycin$ss<-1/Puromycin$conc
Puromycin$ss<-with(Puromycin,1/conc)
Puromycin<-transform(Puromycin,iconc=1/conc,sqrtconc=sqrt(conc))
head(Puromycin)
l1<-list(1:6,matrix(1:4,2,2))
l1
l1<-list(aas=1:6,ys=matrix(1:4,2,2))
l1
l1$aas
unlist(l1)
l1[1]
ts(1:10,start=1959,end=1997)
ts(1:10,start=1959,end=1997,frequency = 2)
1
ts(1:10,start=1959,end=1997,frequency = 2)
ts(1:10,start=1959,end=1997,frequency = 4)
ts(1:10,start=1959,end=1997,frequency = 12)
ts(runif(100),start=1959,end=1997,frequency = 12)
t1<-ts(runif(100),start=1959,end=1997,frequency = 12)
t1
t1<-ts(runif(10),start=1959,end=1997,frequency = 12)
t1
t1<-ts(runif(10,0,1),start=1959,end=1997,frequency = 12)
t1
?regsubset
??regsubset
?regsubset
?regsubsets
??regsubsets
x<-c(0.10, 0.11, 0.12, 0.13, 0.14, 0.15,
0.16, 0.17, 0.18, 0.20, 0.21, 0.23)
y<-c(42.0, 43.5, 45.0, 45.5, 45.0, 47.5,
49.0, 53.0, 50.0, 55.0, 55.0, 60.0)
h<-lm(y~x+1)
summary(h)
h<-lm(y~x)
summary(h)
h<-lm(y~x^2)
summary(h)
h<-lm(lg(y)~x^2)
h<-lm(log(y)~x^2)
summary(h)
h<-lm(log(y)~x)
summary(h)
h<-lm(log(y)~log(x)
h<-lm(log(y)~log(x))
summary(h)
### ??????ģ??ϵ?????????��?
beta.int<-function(fm,alpha=0.05){
A<-summary(fm)$coefficients
df<-fm$df.residual
left<-A[,1]-A[,2]*qt(1-alpha/2, df)
right<-A[,1]+A[,2]*qt(1-alpha/2, df)
rowname<-dimnames(A)[[1]]
colname<-c("Estimate", "Left", "Right")
matrix(c(A[,1], left, right), ncol=3,
dimnames = list(rowname, colname ))
}
beta.int<-function(fm,alpha=0.05){
A<-summary(fm)$coefficients
df<-fm$df.residual
left<-A[,1]-A[,2]*qt(1-alpha/2, df)
right<-A[,1]+A[,2]*qt(1-alpha/2, df)
rowname<-dimnames(A)[[1]]
colname<-c("Estimate", "Left", "Right")
matrix(c(A[,1], left, right), ncol=3,
dimnames = list(rowname, colname ))
}
fm
A
summary(fm)
fm
summary(fm)$coefficients
source("beta.int.R")
summary(h) #得到参数的估计值，相应的标准差
source("beta.int.R")
beta.int(h)
?source
source("beta.int.R")
beta.int(h)
new<-data.frame(x=0.16)
lm.pred<-predict(lm.sol,new,interval="prediction",level=0.95)
lm.pred
lm.sol
View(B)
data<-read.table("C:/Users/Administrator/Desktop/牙膏.txt")
data
View(data)
View(data)
data<-data[c(V2,V5,V6)]
fix(data)
data<-data[c(y,x1,x2)]
data<-data[y,x1,x2]
data<-data[,c(y,x1,x2)]
fix(data)
fix(data)
data<-data[,-1]
data
data<-data[,-1,-3]
data<-read.table("C:/Users/Administrator/Desktop/牙膏.txt")
data
data<-data[,-1,-3,-4,-5]
data<-data[,-1,-3]
data
data<-data[,-2,-3]
data
data<-read.table("C:/Users/Administrator/Desktop/牙膏.txt")
data
fix(data)
<
data<-data[,-1,-3]
data<-data[,-2]
data<-data[,-2]
data
dimnames("y","x1","x2")
colnames("y","x1","x2")
colnames(data)<-("y","x1","x2")
colnames(data)<-c("y","x1","x2")
data
lm.sol<-lm(y~x1+x2,data)
lm.sol
summary(lm.sol)
View(data)
View(data)
colnames(data)<-c("x1","x2","y")
lm.sol<-lm(y~x1+x2,data)
lm.sol
summary(lm.sol)
lm.sol<-lm(y~x1+x3,data)
lm.sol
summary(lm.sol)
View(data)
View(data)
data<-read.table("C:/Users/Administrator/Desktop/牙膏.txt")
data
data<-data[,-1]
data
data<-data[,3:6]
data<-data[,V3:V5]
data<-data[,V3]
data<-data[-1,]
data
data<-data[,-1]
data$V4
attach(data)
cbind(V4,V5,V6)
data1<-cbind(V4,V5,V6)
colnames(data)<-c("x1","x2","y")
data<-read.table("C:/Users/Administrator/Desktop/牙膏.txt")
data
data<-data[,-1]
attach(data)
data1<-cbind(V4,V5,V6)
data
attach(data)
data1<-cbind(V4,V5,V6)
colnames(data)<-c("x1","x2","y")
lm.sol<-lm(y~x1+x2,data)
lm.sol
summary(lm.sol)
colnames(data1)<-c("x1","x2","y")
lm.sol<-lm(y~x1+x2,data1)
data1<-cbind(V4,V5,V6)
colnames(data1)<-c("x1","x2","y")
lm.sol<-lm(y~x1+x2,data1)
data1<-data.frame(data1)
colnames(data1)<-c("x1","x2","y")
lm.sol<-lm(y~x1+x2,data1)
summary(lm.sol)
rep(c(3,2,1),c(3,4,5))
A<-matrix(1:16,4,4);A
B<-matrix(1:16,4,4,byrow=TRUE);B
C<-A+B;C
D<-A%*%B;D
E<-A*B;E
A<-A[-3,];A
B<-B[,-3];B
E=A%*%B;E
A<-A[-3,];A
B<-B[,-3];B
E=A*B;E
url <- 'https://www.zhihu.com/question/19647535'
link<- read_html(url)%>% html_nodes("div.zm-editable-content.clearfix")%>%html_nodes("img")%>%html_attr("src")
url <- 'https://www.zhihu.com/question/19647535'
link<- read_html(url)%>% html_nodes("div.zm-editable-content.clearfix")%>%html_nodes("img")%>%html_attr("src")
library("rvest")
library("downloader")
library("stringr")
library("dplyr")
url <- 'https://www.zhihu.com/question/19647535'
link<- read_html(url)%>% html_nodes("div.zm-editable-content.clearfix")%>%html_nodes("img")%>%html_attr("src")
link
url <- 'https://www.zhihu.com/question/19647535'
link<- read_html(url)%>% html_nodes("RichContent RichContent--unescapable")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("RichContent.RichContent--unescapable")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("RichContent.RichContent-unescapable")%>%html_nodes("img")%>%html_attr("src")
link
url <- 'https://www.zhihu.com/question/19647535'
link<- read_html(url)%>% html_nodes("RichContent-inner")%>%html_nodes("img")%>%html_attr("src")
url <- 'https://www.zhihu.com/question/19647535'
link<- read_html(url)%>% html_nodes("RichContent-inner")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("RichContent-inner")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("RichContent.RichContent--unescapable")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("RichContent.RichContent-unescapable")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("div.RichContent.RichContent-unescapable")%>%html_nodes("img")%>%html_attr("src")
link
link<- read_html(url)%>% html_nodes("div.RichContent.RichContent-unescapable")%>%html_nodes("img")%>%html_attr("src")
link
link
library(rvest)
library(downloader)
url<-"https://www.zhihu.com/question/35931586/answer/206258333"
link<- read_html(url)%>% html_nodes("div.RichContent-inner>span")%>%html_nodes("img")%>%html_attr("data-original")%>%na.omit
link
link<-link[seq(1,length(link),by=2)] #剔除无效网址
link
?read_html
library(rvest)
library(downloader)
?read_html
?%>%
?html_nodes
link<- read_html(url)%>% html_nodes("div.RichContent-inner>span")%>%html_nodes("img")%>%html_attr("data-original")%>%na.omit
link
link<- read_html(url)%>% html_nodes("div.RichContent-inner>span")%>%html_nodes("img")%>%html_attr("data-original")%>%na.omit
link
link<-link[seq(1,length(link),by=2)] #剔除无效网址
link
Name<-sub("https://pic\\d.zhimg.com/v2-"," ",link) #提取图片名称
Name
?sub
Name<-sub("https://pic\\d.zhimg.com/v2-","",link) #提取图片名称
Name
Name<-sub("https://pic\\d.zhimg.com/v2-",",m",link) #提取图片名称
Name
Name<-sub("https://pic\\d.zhimg.com/v2-","我是",link) #提取图片名称
Name
dir.create("D:/R/我的资料集/资料册/图片/photos") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/图片/photos") #锁定临时目录
Name<-(1:length(link))
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
dir.create("D:/R/我的资料集/资料册/图片/photos") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/图片/photos") #锁定临时目录
dir.create("D:/R/我的资料集/资料册/图片/photoss") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/图片/photoss") #锁定临时目录
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
Name[i]
Name
Name<-data.frame(1:length(link))
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
dir.create("D:/R/我的资料集/资料册/图片/photoss") #建立存储文件夹
setwd("D:/R/我的资料集/资料册/图片/photoss") #锁定临时目录
setwd("D:/R/我的资料集/资料册/图片/photoss") #锁定临时目录
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
Name<-sub("https://pic\\d.zhimg.com/v2-","我是",link) #提取图片名称
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
class(Name)
Name<-as.character(1:length(link))
Name<-as.character(1:length(link))
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
Name<-as.character(paste("图"，1:length(link))
Name<-as.character(paste("图",1:length(link))
class(Name)
Name<-as.character(paste("图",1:length(link))
Name<-as.character(paste("图",1:length(link),sep="")
Name<-as.character(paste("图",a<-1:length(link),sep="")
Name<-as.character(paste("图","a<-1:length(link)",sep="")
Name<-as.character(1:length(link))
Name<-paste(Name,jpg,sep="")
Name<-paste(Name,"jpg",sep="")
Name
Name<-paste(Name,".jpg",sep="")
Name
Name<-as.character(1:length(link))
Name<-paste(Name,".jpg",sep="")
for(i in 1:length(link)){ download(link[i],Name[i], mode = "wb") } #下载过程：
Name<-sub("https://pic\\d.zhimg.com/v2-",link) #提取图片名称
Name<-sub("https://pic\\d.zhimg.com/v2-",link) #提取图片名称
link<-link[seq(1,length(link),by=2)] #剔除无效网址
Name<-sub("https://pic\\d.zhimg.com/v2-",link) #提取图片名称
Name<-sub("https://pic\\d.zhimg.com/v2-","",link) #提取图片名称
class(Name)
dir.create("D:/R/我的资料集/资料册/图片/photoss") #建立存储文件夹
setwd("D:/R/我的资料集/资料册")
dir.create("图片/photoss") #建立存储文件夹
dir.create("图片/photosss") #建立存储文件夹
link
class(link)
Name
url<-"https://www.zhihu.com/question/35931586/answer/206258333"
read_html(url)
link<-read_html(url)%>% html_nodes("div.RichContent-inner>span")%>%html_nodes("img")%>%html_attr("data-original")%>%na.omit
link
length(link)
link<-link[seq(1,length(link),by=2)] #剔除无效网址
link
Name<-sub("https://pic\\d.zhimg.com/v2-","",link) #提取图片名称
Name
dir.create("D:/R/我的资料集/资料册/图片/photoss") #建立存储文件夹
for(i in 1:length(link))
{ download(link[i],Name[i], mode = "wb") } #下载过程：
setwd("D:/R/我的资料集/资料册/图片/photoss") #锁定临时目录
for(i in 1:length(link))
{ download(link[i],Name[i], mode = "wb") } #下载过程：
for(i in 1:length(link))
{ download(link[i],Name[i], mode = "wb") } #下载过程：
Name<-as.character(1:length(link))
Name<-paste(Name,".jpg",sep="")
for(i in 1:length(link))
{ download(link[i],Name[i], mode = "wb") } #下载过程：
Name<-as.character(1:length(link))
Name<-paste(Name,".jpg",sep="")
Name
Name<-paste("图",Name,".jpg",sep="")
Name
Name<-sub("https://pic\\d.zhimg.com/v2-","",link) #提取图片名称
Name<-as.character(1:length(link))
Name<-paste("图",Name,".jpg",sep="")
Name
for(i in 1:length(link))
{ download(link[i],Name[i], mode = "wb") } #下载过程：
#Name<-paste("图",Name,".jpg",sep="")
