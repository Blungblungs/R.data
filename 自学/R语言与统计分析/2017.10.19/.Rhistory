payload<-list(
'pageIndex'=1,
'pageSize'=50,
'relativeOffset'=0,
'frontCategoryId'='400000000709002'
)
#第五步：单步执行：
r <- POST(url,add_headers(.headers =headers),body =payload, encode="json",verbose())
myresult1 <-r %>% content() %>%`[[`(3) %>% `[[`(2) %>% toJSON() %>% fromJSON(simplifyDataFrame=TRUE)
myresult1
summary(myresult1)
Cookie='_ntes_nnid=c66416fa1d63fad39a3897ae8f07b31a,1494123356006; _ntes_nuid=c66416fa1d63fad39a3897ae8f07b31a; EDUWEBDEVICE=0080cad25b35486e95538d6aa85091e3; NTESSTUDYSI=f745d5b72464457ca934b64f79d8b60f; utm="eyJjIjoiIiwiY3QiOiIiLCJpIjoiIiwibSI6IiIsInMiOiIiLCJ0IjoiIn0=|"; __utma=129633230.633425057.1506842309.1506842309.1507785144.2; __utmb=129633230.15.9.1507785261037; __utmc=129633230; __utmz=129633230.1506842309.1.1.utmcsr=so.com|utmccn=(referral)|utmcmd=referral|utmcct=/link'
Cookie
read.delim("clipboard")
data1<-read.delim("clipboard")
View(data1)
View(data1)
data2<-data1[is.na()]
data2<-data1[is.na]
data2<-data1[is.na(data1)]
data2<-data1[!is.na(data1)]
data2
data2<-na.omit(data1)
head(data2)
plot(LCT~KFI,data2)
sunflowerplot(LCT~KFI)
sunflowerplot(LCT,KFI)
sunflowerplot(LCT~KFI,data2)
？sunflowerplot
?sunflowerplot
sunflowerplot(x = sort(2*round(rnorm(100))), y = round(rnorm(100), 0),
main = "Sunflower Plot of Rounded N(0,1)")
sunflowerplot(x = sort(2*rnorm(100)), y = round(rnorm(100), 0))
?sunflowerplot
pie(LCT)
attach(data1)
pie(LCT)
pie(abs(LCT))
LCT
attach(data2)
LCT
pie(abs(LCT))
pie(abs(LCT[1:6]))
pie(abs(LCT[1:60]))
pie(abs(LCT[1:2]))
head(LCT)
pie(abs(LCT[1:6]))
boxplot(LCT[1:6]))
boxplot(LCT)
stripchart(LCT[1:6]))
stripchart(LCT)
plot(LCT~KFI,data2)
head(data2)
coplot(LCT~KFI|vas_2)
matplot(LCT~KFI)
matplot(LCT,KFI)
masaicplot(LCT)
mosaicplot(LCT)
mosaicplot(LCT[1:6])
pairs(LCT[1:6])
pairs(data2)
qqplot(LCT[1:6])
qqplot(LCT)
qqplot(LCT,KFI)
ggplot2(LCT,KFI)
library(gplots)
ggplot2(LCT,KFI)
library(gplot2)
library(ggplot2)
ggplot2(LCT,KFI)
gplot2(LCT,KFI)
gplot(LCT,KFI)
ggplot(LCT,KFI)
image(LCT,KFI)
image(data2)
data3<-cblind(1:9,rep(1,5,2))
data3<-cbind(1:9,rep(1,5,2))
data3<-cbind(1:10,rep(1,5,2))
data3
data3<-cbind(1:10,rep(1:5,2))
data3
image(data3)
contour(data3)
filled.contour(data3)
persp(data3)
stars(data3)
image(data3)
image(data3,xlab = c(0,1),ylab = c(-1,2),main="image形成的图片",sub="庄亮亮!"
image(data3,xlab = c(0,1),ylab = c(-1,2),main="image形成的图片",sub="庄亮亮!")
?xlim
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="庄亮亮!")
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="图一")
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="   图一")
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="图一"，xlab="x"，ylab="y")
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="图一"，xlab="x"，ylab="y")
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="图一",xlab="x"，ylab="y")
image(data3,xlim = c(0,1),ylim = c(-1,2),main="image形成的图片",sub="图一",xlab="x",ylab="y")
###2.6.2低级绘图命令
points(data3)
points(data3)
?points
plot(-4:4, -4:4, type = "n")  # setting up coord. system
points(rnorm(200), rnorm(200), col = "red")
points(rnorm(100)/2, rnorm(100)/2, col = "blue", cex = 1.5)
plot(-4:4, -4:4, type = "n")  # setting up coord. system
points(rnorm(200), rnorm(200), col = "red")
plot(-4:4, -4:4, type = "n")  # setting up coord. system
points(rnorm(200), col = "red")
points(rnorm(100)/2, col = "blue", cex = 1.5)
plot(-4:4, -4:4, type = "n")  # setting up coord. system
points(rnorm(200), rnorm(200), col = "red")
points(rnorm(100)/2, rnorm(100)/2, col = "blue", cex = 1.5)
lines(rnorm(100)/2, rnorm(100)/2)
lines(1,2)
plot(-4:4, -4:4, type = "n")  # setting up coord. system
points(rnorm(200), rnorm(200), col = "red")
lines(1,2)
lines(1,2000)
lines(100,2000)
lines(1)
abline(2,32)
abline(2,3)
abline(2)
abline(h=2)
rect(1,1,1,1)
rect(1,1,1,1)
rect(1,1,1,1)
rect(1:2,1:5,1,1)
?rect
rect(100, 300, 125, 350)
rect(100, 300, 125, 350)
rect(100, 300, 125, 350) # transparent
plot(c(100, 200), c(300, 450), type= "n", xlab = "", ylab = "")
rect(100, 300, 125, 350) # transparent
#例子rect()
?legend()
x <- seq(-pi, pi, len = 65)
plot(x, sin(x), type = "l", ylim = c(-1.2, 1.8), col = 3, lty = 2)
points(x, cos(x), pch = 3, col = 4)
lines(x, tan(x), type = "b", lty = 1, pch = 4, col = 6)
title("legend(..., lty = c(2, -1, 1), pch = c(NA, 3, 4), merge = TRUE)",
cex.main = 1.1)
legend(-1, 1.9, c("sin", "cos", "tan"), col = c(3, 4, 6),
text.col = "green4", lty = c(2, -1, 1), pch = c(NA, 3, 4),
merge = TRUE, bg = "gray90")
len = 65
x <- seq(-pi, pi, len = 65)
plot(x, sin(x), type = "l", ylim = c(-1.2, 1.8), col = 3, lty = 2)
?seq
plot(x, sin(x), type = "l", ylim = c(-1.2, 1.8), col = 3, lty = 2)
points(x, cos(x), pch = 3, col = 4)
lines(x, tan(x), type = "b", lty = 1, pch = 4, col = 6)
title("legend(..., lty = c(2, -1, 1), pch = c(NA, 3, 4), merge = TRUE)",
cex.main = 1.1)
legend(-1, 1.9, c("sin", "cos", "tan"), col = c(3, 4, 6),
text.col = "green4", lty = c(2, -1, 1), pch = c(NA, 3, 4),
merge = TRUE, bg = "gray90")
text(0,0,expression(p==over(1,1+e^-(beta*x+alpha))))
?par
dim(Puromycin)
head(Puromycin)
Puromycin
x<-sub(Puromycin,state==treated)
x<-sub(Puromycin,state=="treated")
?sub
?subset'
?subset
?subset
x<-subset(Puromycin,state=="treated")
x<-subset(Puromycin,state=="treated")
?subset
?subset
x
x
dim(Puromycin)
head(Puromycin)
x<-subset(Puromycin,state=="treated")
dim(Puromycin)
head(Puromycin)
x<-subset(Puromycin,state=="treated")
x<-sub(Puromycin,state=="treated")
x
attach(Puromycin)
x<-subset(state=="treated")
x<-subset(Puromycin,state=="treated")
plot(conc~rate)
plot(conc~rate,x)
attach(x)
plot(conc~rate)
plot(rate~conc)
R
data1<-read.table("deer.txt",header=T)
a<-c("F","F","F","F","F","M","M","M","M","M")
b<-c(14,16,15,17,15,14,16,14,15,16)
c<-c(156,158,161,156,153,162,157,159,163,165)
d<-c(42.3,45,48.5,51.5,44.6,48.8,46.7,49.9,50.2,53.7)
x<-data.frame(a,b,c,d)
write.table(x,"D:/R/我的资料集/自学/R语言与统计分析/2017.10.19/mydata.txt")
read.table("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19/mydata.txt")
write.csv(x,"D:/R/我的资料集/自学/R语言与统计分析/2017.10.19/mydata.csv")
read.csv("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19/mydata.txt")
#和scan()函数，使用两个不同的变量名存储数据，比较它们的不同点，并测试验证结果的不同。
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
data1<-read.table("deer.txt",header=T)
head(data1)
data2<-scan("deer.txt",what=list(Farm="",Month="",Year="",Sex="",clas1_4="",LCT="",KFI="",vas_2="",Tb=""))
data2
dataLCT<-data1$LCT
dataLCT<-dataLCT[!is.na(dataLCT)]
dataLCT
meanLCT<-mean(dataLCT)
meanLCT
dim(data1)
nrow(data1)
ncol(data1)
data3<-read.table("D:/15211040117庄亮亮/Vegetation.txt",header=T)
plot(R~BARESOIL,data=data3)
data3<-read.table("Vegetation.txt",header=T)
plot(R~BARESOIL,data=data3)
data3
x1<-subset(data3,Time<1975)
x2<-subset(data3,Time>1975)
plot(R~BARESOIL,data=x1,col="red",pch=17,ps=2)
plot(R~BARESOIL,data=x2,col="red",pch=17,ps=2)
my<-c(1,2)[data3$Time]
plot(R~BARESOIL,data3,col=my,pch=my)
my<-c(1,2)[data3$Time]
plot(R~BARESOIL,data3,col=my,pch=my)
Veg <- read.table(file="Vegetation.txt",header =TRUE)
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
Veg <- read.table(file="Vegetation.txt",header =TRUE)
dim(Veg)
str(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
min(Veg$BARESOIL)
min(Veg$BARESOIL)
par(mfcol=c(3,2))
dim(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
main = "（3）散点图")
Veg$Time2 <- Veg$Time
pch = Veg$Transect,col=Veg$Transect,
Veg$Time2[Veg$Time <= 1974] <- 1
Veg$Col2 <- Veg$Time
main = "（4）散点图")
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
Veg$Col2[Veg$Time > 1974] <-"blue"
Veg$Col2[Veg$Time <= 1974] <- "red"
pch = Veg$Time2,col=Veg$Col2,
Veg$Time2[Veg$Time > 1974] <- 16
plot(x = Veg$BARESOIL, y = Veg$R,
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
Veg <- read.table(file="Vegetation.txt",header =TRUE)
str(Veg)
dim(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col=Veg$Transect,
main = "（3）散点图")
Veg$Time2 <- Veg$Time
Veg$Time2[Veg$Time <= 1974] <- 1
Veg$Time2[Veg$Time > 1974] <- 16
Veg$Col2 <- Veg$Time
Veg$Col2[Veg$Time <= 1974] <- "red"
Veg$Col2[Veg$Time > 1974] <-"blue"
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Time2,col=Veg$Col2,
main = "（4）散点图")
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
M1 <-lm(R~BARESOIL+I(BARESOIL^2), data = Veg)
Fit<-fitted(M1)
Ord<-order(Veg$BARESOIL)  #返回按从小到大的排列顺序
lines(Fit[Ord]~BARESOIL[Ord],data = Veg,col="blue",type="o",pch="*",cex=2,lwd=2)
# 注意到：点的连结顺序(x1,y1),(x2,y2)。。。，x1不一定小于x2
hist(Veg$R,main="(6)变量R的直方图")
min(Veg$BARESOIL)
max(Veg$BARESOIL)
Veg$Transect
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col = Veg$Transect,
main = "（3）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col = Veg$Transect,
main = "（3）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
main = "（3）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
#补充作业：R的绘图功能
#实验内容：
#数据文件Vegetation2.txt是有关美国草原植物的数据，它是在8个截面上通过几年时间的测量得到的。其中：变量Transect表示截面编号，变量Time表示观测年份，变量R表示物种丰富度，BARESOIL表示裸露土壤。
#在一个窗口中作以下六幅图，形成3×2的图形矩阵。
#（1）绘制物种丰富度对裸露土壤的散点图，要求设置坐标轴和标题：横坐标轴为“裸露土壤”，纵坐标轴为“物种丰富度”，坐标轴上下限取为各变量的取值范围，主标题为“散点图”；
#（2）对（1）中的散点图，绘图符号用实心三角形表示，颜色为红色，大小为2倍（坐标轴等采用默认设置，下同）；
#（3）对（1）中的散点图，要求每个截面的观测值用不同的符号和颜色区分
#（4）对（1）中的散点图，1975年以前的观测点用红色空心圆，1975年以后的用蓝色实心圆
#（5）对（1）中的散点图，绘制物种丰富度对裸露土壤的二次多项式拟合曲线，并标记出拟合值的点（符号用“*”表示，大小为2倍默认值，蓝色）
#（6）对变量R作直方图
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
Veg <- read.table(file="Vegetation.txt",header =TRUE)
str(Veg)
dim(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col = Veg$Transect,
main = "（3）散点图")
Veg$Time2 <- Veg$Time
Veg$Time2[Veg$Time <= 1974] <- 1
Veg$Time2[Veg$Time > 1974] <- 16
Veg$Col2 <- Veg$Time
Veg$Col2[Veg$Time <= 1974] <- "red"
Veg$Col2[Veg$Time > 1974] <-"blue"
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Time2,col=Veg$Col2,
main = "（4）散点图")
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
M1 <-lm(R~BARESOIL+I(BARESOIL^2), data = Veg)
Fit<-fitted(M1)
Ord<-order(Veg$BARESOIL)  #返回按从小到大的排列顺序
lines(Fit[Ord]~BARESOIL[Ord],data = Veg,col="blue",type="o",pch="*",cex=2,lwd=2)
# 注意到：点的连结顺序(x1,y1),(x2,y2)。。。，x1不一定小于x2
hist(Veg$R,main="(6)变量R的直方图")
#补充作业：R的绘图功能
#实验内容：
#数据文件Vegetation2.txt是有关美国草原植物的数据，它是在8个截面上通过几年时间的测量得到的。其中：变量Transect表示截面编号，变量Time表示观测年份，变量R表示物种丰富度，BARESOIL表示裸露土壤。
#在一个窗口中作以下六幅图，形成3×2的图形矩阵。
#（1）绘制物种丰富度对裸露土壤的散点图，要求设置坐标轴和标题：横坐标轴为“裸露土壤”，纵坐标轴为“物种丰富度”，坐标轴上下限取为各变量的取值范围，主标题为“散点图”；
#（2）对（1）中的散点图，绘图符号用实心三角形表示，颜色为红色，大小为2倍（坐标轴等采用默认设置，下同）；
#（3）对（1）中的散点图，要求每个截面的观测值用不同的符号和颜色区分
#（4）对（1）中的散点图，1975年以前的观测点用红色空心圆，1975年以后的用蓝色实心圆
#（5）对（1）中的散点图，绘制物种丰富度对裸露土壤的二次多项式拟合曲线，并标记出拟合值的点（符号用“*”表示，大小为2倍默认值，蓝色）
#（6）对变量R作直方图
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
Veg <- read.table(file="Vegetation.txt",header =TRUE)
str(Veg)
dim(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col = Veg$Transect,
main = "（3）散点图")
Veg$Time2 <- Veg$Time
Veg$Time2[Veg$Time <= 1974] <- 1
Veg$Time2[Veg$Time > 1974] <- 16
Veg$Col2 <- Veg$Time
Veg$Col2[Veg$Time <= 1974] <- "red"
Veg$Col2[Veg$Time > 1974] <-"blue"
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Time2,col=Veg$Col2,
main = "（4）散点图")
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
M1 <-lm(R~BARESOIL+I(BARESOIL^2), data = Veg)
Fit<-fitted(M1)
Ord<-order(Veg$BARESOIL)  #返回按从小到大的排列顺序
lines(Fit[Ord]~BARESOIL[Ord],data = Veg,col="blue",type="o",pch="*",cex=2,lwd=2)
# 注意到：点的连结顺序(x1,y1),(x2,y2)。。。，x1不一定小于x2
hist(Veg$R,main="(6)变量R的直方图")
M1 <-lm(R~BARESOIL+I(BARESOIL^2), data = Veg)
fitted(M1)
Fit<-fitted(M1)
Fit
M1
Ord<-order(Veg$BARESOIL)  #返回按从小到大的排列顺序
Ord
Fit[Ord
Fit[Ord]
lines(Fit~BARESOIL,data = Veg,col="blue",type="o",pch="*",cex=2,lwd=2)
#补充作业：R的绘图功能
#实验内容：
#数据文件Vegetation2.txt是有关美国草原植物的数据，它是在8个截面上通过几年时间的测量得到的。其中：变量Transect表示截面编号，变量Time表示观测年份，变量R表示物种丰富度，BARESOIL表示裸露土壤。
#在一个窗口中作以下六幅图，形成3×2的图形矩阵。
#（1）绘制物种丰富度对裸露土壤的散点图，要求设置坐标轴和标题：横坐标轴为“裸露土壤”，纵坐标轴为“物种丰富度”，坐标轴上下限取为各变量的取值范围，主标题为“散点图”；
#（2）对（1）中的散点图，绘图符号用实心三角形表示，颜色为红色，大小为2倍（坐标轴等采用默认设置，下同）；
#（3）对（1）中的散点图，要求每个截面的观测值用不同的符号和颜色区分
#（4）对（1）中的散点图，1975年以前的观测点用红色空心圆，1975年以后的用蓝色实心圆
#（5）对（1）中的散点图，绘制物种丰富度对裸露土壤的二次多项式拟合曲线，并标记出拟合值的点（符号用“*”表示，大小为2倍默认值，蓝色）
#（6）对变量R作直方图
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
Veg <- read.table(file="Vegetation.txt",header =TRUE)
str(Veg)
dim(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col = Veg$Transect,
main = "（3）散点图")
Veg$Time2 <- Veg$Time
Veg$Time2[Veg$Time <= 1974] <- 1
Veg$Time2[Veg$Time > 1974] <- 16
Veg$Col2 <- Veg$Time
Veg$Col2[Veg$Time <= 1974] <- "red"
Veg$Col2[Veg$Time > 1974] <-"blue"
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Time2,col=Veg$Col2,
main = "（4）散点图")
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
M1 <-lm(R~BARESOIL+I(BARESOIL^2), data = Veg)
Fit<-fitted(M1)
#返回按从小到大的排列顺序
lines(Fit~BARESOIL,data = Veg,col="blue",type="o",pch="*",cex=2,lwd=2)
# 注意到：点的连结顺序(x1,y1),(x2,y2)。。。，x1不一定小于x2
hist(Veg$R,main="(6)变量R的直方图")
Ord<-order(Veg$BARESOIL)
#补充作业：R的绘图功能
#实验内容：
#数据文件Vegetation2.txt是有关美国草原植物的数据，它是在8个截面上通过几年时间的测量得到的。其中：变量Transect表示截面编号，变量Time表示观测年份，变量R表示物种丰富度，BARESOIL表示裸露土壤。
#在一个窗口中作以下六幅图，形成3×2的图形矩阵。
#（1）绘制物种丰富度对裸露土壤的散点图，要求设置坐标轴和标题：横坐标轴为“裸露土壤”，纵坐标轴为“物种丰富度”，坐标轴上下限取为各变量的取值范围，主标题为“散点图”；
#（2）对（1）中的散点图，绘图符号用实心三角形表示，颜色为红色，大小为2倍（坐标轴等采用默认设置，下同）；
#（3）对（1）中的散点图，要求每个截面的观测值用不同的符号和颜色区分
#（4）对（1）中的散点图，1975年以前的观测点用红色空心圆，1975年以后的用蓝色实心圆
#（5）对（1）中的散点图，绘制物种丰富度对裸露土壤的二次多项式拟合曲线，并标记出拟合值的点（符号用“*”表示，大小为2倍默认值，蓝色）
#（6）对变量R作直方图
setwd("D:/R/我的资料集/自学/R语言与统计分析/2017.10.19")
Veg <- read.table(file="Vegetation.txt",header =TRUE)
str(Veg)
dim(Veg)
windows(height=80,width=60)
par(mfcol=c(3,2))
xlimt<-c(min(Veg$BARESOIL),max(Veg$BARESOIL))
ylimt<-c(min(Veg$R),max(Veg$R))
plot(x = Veg$BARESOIL, y = Veg$R,
xlab = "裸露土壤",
ylab = "物种丰富度", main = "（1）散点图",
xlim =xlimt, ylim =ylimt)
plot(x = Veg$BARESOIL, y = Veg$R,
pch = 17,col="red",cex=1.2,
main = "（2）散点图")
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Transect,col = Veg$Transect,
main = "（3）散点图")
Veg$Time2 <- Veg$Time
Veg$Time2[Veg$Time <= 1974] <- 1
Veg$Time2[Veg$Time > 1974] <- 16
Veg$Col2 <- Veg$Time
Veg$Col2[Veg$Time <= 1974] <- "red"
Veg$Col2[Veg$Time > 1974] <-"blue"
plot(x = Veg$BARESOIL, y = Veg$R,
pch = Veg$Time2,col=Veg$Col2,
main = "（4）散点图")
plot(R~BARESOIL, data = Veg,main = "（5）散点图")
M1 <-lm(R~BARESOIL+I(BARESOIL^2), data = Veg)
Fit<-fitted(M1)
Ord<-order(Veg$BARESOIL)  #返回按从小到大的排列顺序
lines(Fit[Ord]~BARESOIL[Ord],data = Veg,col="blue",type="o",pch="*",cex=2,lwd=2)
# 注意到：点的连结顺序(x1,y1),(x2,y2)。。。，x1不一定小于x2
hist(Veg$R,main="(6)变量R的直方图")
